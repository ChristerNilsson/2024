// Generated by CoffeeScript 2.7.0
var corners, draw, echo, games, img, index, keyPressed, preload, rad, rader, range, readCSV, readRad, setup;

echo = console.log;

range = _.range;

index = 0;

rader = [];

rad = [];

img = null;

games = {};

corners = [];

readCSV = function() {
  var file, fileInput, reader;
  fileInput = document.getElementById('csvFileInput');
  file = fileInput.files[0];
  if (file) {
    reader = new FileReader();
    reader.onload = function(event) {
      rader = event.target.result.split('\n');
      return rad = readRad(index);
    };
    return reader.readAsText(file);
  } else {
    return echo('No file selected');
  }
};

readRad = function(index) {
  var cell;
  return (function() {
    var k, len, ref, results;
    ref = rader[index].split(',');
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      cell = ref[k];
      results.push(int(cell));
    }
    return results;
  })();
};

preload = function() {
  img = loadImg("c:\\github\\2024\\012-mnist\\data\\e2e4.jpg");
  // img = loadImg 'c:\github\2024\012-mnist\data\5254.jpg'
  // games.S5254_1 = {white:"Thomas Paulin", black:"Christer Nilsson", result:"1-0", corners: "136 241 3321 247 3322 2165 134 2163", klass:4, rond:5 }
  games.e2e4_1 = {
    white: "Thomas Paulin",
    black: "Christer Nilsson",
    result: "1-0",
    corners: "138 241 3323 248 3321 2169 132 2162",
    klass: 4,
    rond: 5
  };
  // corners = games.S5254_1.corners.split " "
  return corners = games.e2e4_1.corners.split(" ");
};


// [x0,y0,x1,y1,x2,y2,x3,y3] = corners
// line x0,y0,x1,y1
// line x1,y1,x2,y2
// line x2,y2,x3,y3
// line x3,y3,x0,y0
setup = function() {
  createCanvas(280, 280);
  noFill();
  textSize(36);
  return fill(0);
};

keyPressed = function() {
  if (key === 'ArrowRight') {
    index += 1;
  }
  if (key === 'ArrowLeft') {
    index -= 1;
  }
  if (index < 0) {
    index = 0;
  }
  return rad = readRad(index);
};

draw = function() {
  var i, j, k, l, len, len1, ref, ref1;
  background("gray");
  fill(0);
  if (index >= rader.length) {
    return;
  }
  ref = range(28);
  for (k = 0, len = ref.length; k < len; k++) {
    i = ref[k];
    ref1 = range(28);
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      j = ref1[l];
      fill(rad[1 + 28 * i + j]);
      ellipse(5 + 10 * i, 5 + 10 * j, 10);
    }
  }
  fill('yellow');
  return text(rad[0], 5, 30);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uXFwiLCJzb3VyY2VzIjpbImNvZmZlZVxcc2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxVQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUE7O0FBQUEsSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFDZixLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUVWLEtBQUEsR0FBUTs7QUFDUixLQUFBLEdBQVE7O0FBQ1IsR0FBQSxHQUFNOztBQUNOLEdBQUEsR0FBTTs7QUFDTixLQUFBLEdBQVEsQ0FBQTs7QUFDUixPQUFBLEdBQVU7O0FBRVYsT0FBQSxHQUFVLFFBQUEsQ0FBQSxDQUFBO0FBQ1YsTUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBO0VBQUMsU0FBQSxHQUFZLFFBQVEsQ0FBQyxjQUFULENBQXdCLGNBQXhCO0VBQ1osSUFBQSxHQUFPLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBRDtFQUV0QixJQUFHLElBQUg7SUFDQyxNQUFBLEdBQVMsSUFBSSxVQUFKLENBQUE7SUFDVCxNQUFNLENBQUMsTUFBUCxHQUFnQixRQUFBLENBQUMsS0FBRCxDQUFBO01BQ2YsS0FBQSxHQUFRLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQXBCLENBQTBCLElBQTFCO2FBQ1IsR0FBQSxHQUFNLE9BQUEsQ0FBUSxLQUFSO0lBRlM7V0FHaEIsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsSUFBbEIsRUFMRDtHQUFBLE1BQUE7V0FPQyxJQUFBLENBQUssa0JBQUwsRUFQRDs7QUFKUzs7QUFhVixPQUFBLEdBQVUsUUFBQSxDQUFDLEtBQUQsQ0FBQTtBQUFVLE1BQUE7QUFBQzs7QUFBUTtBQUFBO0lBQUEsS0FBQSxxQ0FBQTs7bUJBQUEsR0FBQSxDQUFJLElBQUo7SUFBQSxDQUFBOzs7QUFBbkI7O0FBRVYsT0FBQSxHQUFVLFFBQUEsQ0FBQSxDQUFBO0VBQ1QsR0FBQSxHQUFNLE9BQUEsQ0FBUSw2Q0FBUixFQUFQOzs7RUFHQyxLQUFLLENBQUMsTUFBTixHQUFlO0lBQUMsS0FBQSxFQUFNLGVBQVA7SUFBd0IsS0FBQSxFQUFNLGtCQUE5QjtJQUFrRCxNQUFBLEVBQU8sS0FBekQ7SUFBZ0UsT0FBQSxFQUFTLHFDQUF6RTtJQUFnSCxLQUFBLEVBQU0sQ0FBdEg7SUFBeUgsSUFBQSxFQUFLO0VBQTlILEVBSGhCOztTQUtDLE9BQUEsR0FBVSxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFyQixDQUEyQixHQUEzQjtBQU5ELEVBekJWOzs7Ozs7OztBQXdDQSxLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUE7RUFDUCxZQUFBLENBQWEsR0FBYixFQUFpQixHQUFqQjtFQUNBLE1BQUEsQ0FBQTtFQUNBLFFBQUEsQ0FBUyxFQUFUO1NBQ0EsSUFBQSxDQUFLLENBQUw7QUFKTzs7QUFNUixVQUFBLEdBQWEsUUFBQSxDQUFBLENBQUE7RUFDWixJQUFHLEdBQUEsS0FBTyxZQUFWO0lBQTRCLEtBQUEsSUFBUyxFQUFyQzs7RUFDQSxJQUFHLEdBQUEsS0FBTyxXQUFWO0lBQTJCLEtBQUEsSUFBUyxFQUFwQzs7RUFDQSxJQUFHLEtBQUEsR0FBUSxDQUFYO0lBQWtCLEtBQUEsR0FBUSxFQUExQjs7U0FDQSxHQUFBLEdBQU0sT0FBQSxDQUFRLEtBQVI7QUFKTTs7QUFNYixJQUFBLEdBQU8sUUFBQSxDQUFBLENBQUE7QUFDUCxNQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQTtFQUFDLFVBQUEsQ0FBVyxNQUFYO0VBQ0EsSUFBQSxDQUFLLENBQUw7RUFDQSxJQUFHLEtBQUEsSUFBUyxLQUFLLENBQUMsTUFBbEI7QUFBOEIsV0FBOUI7O0FBQ0E7RUFBQSxLQUFBLHFDQUFBOztBQUNDO0lBQUEsS0FBQSx3Q0FBQTs7TUFDQyxJQUFBLENBQUssR0FBRyxDQUFDLENBQUEsR0FBRSxFQUFBLEdBQUcsQ0FBTCxHQUFPLENBQVIsQ0FBUjtNQUNBLE9BQUEsQ0FBUSxDQUFBLEdBQUUsRUFBQSxHQUFHLENBQWIsRUFBZSxDQUFBLEdBQUUsRUFBQSxHQUFHLENBQXBCLEVBQXNCLEVBQXRCO0lBRkQ7RUFERDtFQUlBLElBQUEsQ0FBSyxRQUFMO1NBQ0EsSUFBQSxDQUFLLEdBQUcsQ0FBQyxDQUFELENBQVIsRUFBWSxDQUFaLEVBQWMsRUFBZDtBQVRNIiwic291cmNlc0NvbnRlbnQiOlsiZWNobyA9IGNvbnNvbGUubG9nXHJcbnJhbmdlID0gXy5yYW5nZVxyXG5cclxuaW5kZXggPSAwXHJcbnJhZGVyID0gW11cclxucmFkID0gW11cclxuaW1nID0gbnVsbFxyXG5nYW1lcyA9IHt9XHJcbmNvcm5lcnMgPSBbXVxyXG5cclxucmVhZENTViA9IC0+XHJcblx0ZmlsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgJ2NzdkZpbGVJbnB1dCdcclxuXHRmaWxlID0gZmlsZUlucHV0LmZpbGVzWzBdXHJcblxyXG5cdGlmIGZpbGVcclxuXHRcdHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcclxuXHRcdHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpIC0+XHJcblx0XHRcdHJhZGVyID0gZXZlbnQudGFyZ2V0LnJlc3VsdC5zcGxpdCAnXFxuJ1xyXG5cdFx0XHRyYWQgPSByZWFkUmFkIGluZGV4XHJcblx0XHRyZWFkZXIucmVhZEFzVGV4dCBmaWxlXHJcblx0ZWxzZVxyXG5cdFx0ZWNobyAnTm8gZmlsZSBzZWxlY3RlZCdcclxuXHJcbnJlYWRSYWQgPSAoaW5kZXgpIC0+IHJldHVybiAoaW50KGNlbGwpIGZvciBjZWxsIGluIHJhZGVyW2luZGV4XS5zcGxpdCAnLCcpXHJcblxyXG5wcmVsb2FkID0gLT5cclxuXHRpbWcgPSBsb2FkSW1nIFwiYzpcXFxcZ2l0aHViXFxcXDIwMjRcXFxcMDEyLW1uaXN0XFxcXGRhdGFcXFxcZTJlNC5qcGdcIlxyXG5cdCMgaW1nID0gbG9hZEltZyAnYzpcXGdpdGh1YlxcMjAyNFxcMDEyLW1uaXN0XFxkYXRhXFw1MjU0LmpwZydcclxuXHQjIGdhbWVzLlM1MjU0XzEgPSB7d2hpdGU6XCJUaG9tYXMgUGF1bGluXCIsIGJsYWNrOlwiQ2hyaXN0ZXIgTmlsc3NvblwiLCByZXN1bHQ6XCIxLTBcIiwgY29ybmVyczogXCIxMzYgMjQxIDMzMjEgMjQ3IDMzMjIgMjE2NSAxMzQgMjE2M1wiLCBrbGFzczo0LCByb25kOjUgfVxyXG5cdGdhbWVzLmUyZTRfMSA9IHt3aGl0ZTpcIlRob21hcyBQYXVsaW5cIiwgYmxhY2s6XCJDaHJpc3RlciBOaWxzc29uXCIsIHJlc3VsdDpcIjEtMFwiLCBjb3JuZXJzOiBcIjEzOCAyNDEgMzMyMyAyNDggMzMyMSAyMTY5IDEzMiAyMTYyXCIsIGtsYXNzOjQsIHJvbmQ6NSB9XHJcblx0IyBjb3JuZXJzID0gZ2FtZXMuUzUyNTRfMS5jb3JuZXJzLnNwbGl0IFwiIFwiXHJcblx0Y29ybmVycyA9IGdhbWVzLmUyZTRfMS5jb3JuZXJzLnNwbGl0IFwiIFwiXHJcblx0XHJcblx0IyBbeDAseTAseDEseTEseDIseTIseDMseTNdID0gY29ybmVyc1xyXG5cdCMgbGluZSB4MCx5MCx4MSx5MVxyXG5cdCMgbGluZSB4MSx5MSx4Mix5MlxyXG5cdCMgbGluZSB4Mix5Mix4Myx5M1xyXG5cdCMgbGluZSB4Myx5Myx4MCx5MFxyXG5cclxuXHJcbnNldHVwID0gLT5cclxuXHRjcmVhdGVDYW52YXMgMjgwLDI4MFxyXG5cdG5vRmlsbCgpXHJcblx0dGV4dFNpemUgMzZcclxuXHRmaWxsIDBcclxuXHJcbmtleVByZXNzZWQgPSAoKSAtPlxyXG5cdGlmIGtleSA9PSAnQXJyb3dSaWdodCcgdGhlbiBpbmRleCArPSAxXHJcblx0aWYga2V5ID09ICdBcnJvd0xlZnQnIHRoZW4gaW5kZXggLT0gMVxyXG5cdGlmIGluZGV4IDwgMCB0aGVuIGluZGV4ID0gMFxyXG5cdHJhZCA9IHJlYWRSYWQgaW5kZXhcclxuXHJcbmRyYXcgPSAtPlxyXG5cdGJhY2tncm91bmQgXCJncmF5XCJcclxuXHRmaWxsIDBcclxuXHRpZiBpbmRleCA+PSByYWRlci5sZW5ndGggdGhlbiByZXR1cm5cclxuXHRmb3IgaSBpbiByYW5nZSAyOFxyXG5cdFx0Zm9yIGogaW4gcmFuZ2UgMjhcclxuXHRcdFx0ZmlsbCByYWRbMSsyOCppK2pdXHJcblx0XHRcdGVsbGlwc2UgNSsxMCppLDUrMTAqaiwxMFxyXG5cdGZpbGwgJ3llbGxvdydcclxuXHR0ZXh0IHJhZFswXSw1LDMwXHJcbiJdfQ==
//# sourceURL=c:\github\2024\013-create_abcdefgh\coffee\sketch.coffee